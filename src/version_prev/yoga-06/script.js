const yogaData = {
    1:
    {
        image: 'url("./yoga-img/1.jpg")',
        yogaName: 'ВРИКШАСАНА',
        rusianName: 'поза дерева',
        description: `Это поза растягивает и
укрепляет мышцы ног и учит сохранять равновесие. Регулярное выполнение
поз на равновесие улучшит концентрацию внимания, повысит мышечный тонус и
поможет обрести душевное равновесие.`
    },
    2:
    {
        image: 'url("./yoga-img/2.jpg")',
        yogaName: 'НАТАРАДЖАСАНА',
        rusianName: 'поза царя Натараджи',
        description: `Асана вытягивает плечи и грудную клетку. Вытягивает бедра, живот и область
        паха. Укрепляет ноги и лодыжки. Улучшает чувство равновесия. Нормализует гормональный баланс. Успокаивает нервную систему. Улучшает кровообращение в органах малого таза. Освобождает диафрагмальную область от
        напряжения.`
    },
    3:
    {
        image: 'url("./yoga-img/3.jpg")',
        yogaName: 'АРДХА ЧАНДРАСАНА',
        rusianName: 'поза полумесяца',
        description: `Эта поза укрепляет ноги и улучшает чувство равновесия. Регулярные тренировки укрепят координацию
        и концентрацию. Благодаря сильной растяжке позвоночника спина становится более гибкой. Поза восстанавливает правильную центровку тела.`
    },
    4:
    {
        image: 'url("./yoga-img/4.jpg")',
        yogaName: 'ВИРАБХАДРАСАНА I',
        rusianName: 'поза царя Натараджи',
        description: `Это более сложная поза, которая позволяет хорошо раскрыть грудную клетку, что в свою очередь приводит к улучшению дыхания. Она также помогает снять ригидность в плечах, спине и шее.`
    },
    5:
    {
        image: 'url("./yoga-img/5.jpg")',
        yogaName: 'ВИРАБХАДРАСАНА II',
        rusianName: 'поза воина',
        description: `Эта поза укрепляет ноги, возвращает гибкость мышцам спины, тонизирует мышцы брюшной полости. Хотя позу
        называют второй, выполняют ее первой, так как она менее сложная.`
    },
    6:
    {
        image: 'url("./yoga-img/6.jpg")',
        yogaName: 'АНДЖАНЕЙАСАНА',
        rusianName: 'поза низкого выпада вперед',
        description: `Снимает воспаление седалищного нерва, придает тонус отводящей мышцы бедра, укрепляет руки и плечи,
        растягивает мышцы и связки бедра и колена.`
    },
    7:
    {
        image: 'url("./yoga-img/7.jpg")',
        yogaName: 'УТТХИТА ПАРШВАКОНАСАНА',
        rusianName: 'поза вытянутого треугольника с наклоном',
        description: `Эта асана тонизирует лодыжки, колени и бедра. Она исправляет дефекты икр и бедер, развивает грудь,
        сокращает жировые отложения в области талии и таза, устраняет ишиас и артрит. Также усиливает
        перистальтику кишечника и способствует дефекации.`
    },
    8:
    {
        image: 'url("./yoga-img/8.jpg")',
        yogaName: 'УТКАТАСАНА',
        rusianName: 'поза энергии',
        description: `Эта поза выглядит так, словно вы сидите на воображаемом стуле. Уткатасана увеличивает подвижность плеч и
        щиколоток, укрепляет ноги, тонизирует позвоночник и органы брюшной полости, полностью раскрывает грудную
        клетку.`
    },
    9:
    {
        image: 'url("./yoga-img/9.jpg")',
        yogaName: 'АДХО МУКХА ШВАНАСАНА',
        rusianName: 'поза собаки',
        description: `Поза Собаки позволяет хорошо растянуть все тело. Она обеспечивает растяжку ног и укрепляет щиколотки,
        помогает снять скованность в шее, плечах и запястьях. Чтобы снять усталость и восстановить энергию,
        останьтесь в этой позе чуть дольше.`
    },
    10:
    {
        image: 'url("./yoga-img/10.jpg")',
        yogaName: 'ТТАНАСАНА',
        rusianName: 'стойка с наклоном вперед',
        description: `Асана успокаивает нервную систему, помогает справиться со стрессом и слабой депрессией. Стимулирует
        работу почек и печени. Удлиняет заднюю поверхность бедер, вытягивает таз и икроножные мышцы. Укрепляет
        бедра и колени. Улучшает пищеварение. Облегчает симптомы менопаузы. Помогает справиться с усталостью и
        тревогой. Избавляет от головной боли и бессонницы. Оказывает терапевтическое воздействие при астме,
        высоком кровяном давлении, бесплодии, остеопорозе и синусите.`
    },
    11:
    {
        image: 'url("./yoga-img/11.jpg")',
        yogaName: 'САЛАМБА САРВАНГАСАНА',
        rusianName: 'плечевая стойка с руками сзади',
        description: `Эта асана представляет собой усложненный вариант асаны Сарвангасаны. В силу того что равновесие в позе
        поддерживается за счет вытяжения мышц спины, а вес приходится на заднюю поверхность шеи, спина и шея
        становятся крепче. Мышцы рук также обретают силу и гибкость.`
    },
    12:
    {
        image: 'url("./yoga-img/12.jpg")',
        yogaName: 'ЭКА ПАДА САРВАНГАСАНА',
        rusianName: 'стойка на плечах с вытянутой ногой',
        description: `Асана стимулирует работу почек, а также разрабатывает мышцы ног.`
    },
    13:
    {
        image: 'url("./yoga-img/13.jpg")',
        yogaName: 'АРНАПИДАСАНА',
        rusianName: 'поза давления на уши',
        description: `Это вариация Халасаны, которая может выполняться вместе с ней. Асана дает отдых ногам и корпусу, в
        особенности в области сердца. Благодаря тому, что ноги сгибаются в коленях, позвоночник вытягивается
        более интенсивно, что улучшает кровоснабжение области вокруг талии.`
    },
    14:
    {
        image: 'url("./yoga-img/14.jpg")',
        yogaName: 'ХАЛАСАНА',
        rusianName: 'поза плуга',
        description: `Воздействие Халасаны такое же, как у Саламба Сарвангасаны I, но, кроме того, вследствие сжатия области
        живота внутренние органы омолаживаются. Позвоночник благодаря наклону вперед получает усиленный приток
        крови, что снимает боли в спине.`
    },
    15:
    {
        image: 'url("./yoga-img/15.jpg")',
        yogaName: 'МАРИЧИАСАНА',
        rusianName: 'поза мудреца Маричи',
        description: `Эта поза с поворотом позвоночника снимает скованность в плечах и позвоночнике, облегчает боли в нижней
        части спины, улучшает пищеварение, вызывает прилив крови к органам брюшной полости и тонизирует их.`
    },
    16:
    {
        image: 'url("./yoga-img/16.jpg")',
        yogaName: 'ГОМУКХАСАНА',
        rusianName: 'поза коровьей головы',
        description: `Открывает грудную клетку, улучшает подвижность плеч и запястий, поскольку позвоночник сильно
        растягивается вверх, плечевые суставы становятся более свободными. В зависимости от положения ног при
        выполнении конечной фазы упражнения, полезные качества асаны агрегируются.`
    },
};

const slides = document.querySelectorAll('.slider .item');
const lenghtVisibleItem = Object.keys(yogaData).length;

//получить текущий номер карточки
//get current card number
let getCurrentCardNumber = (i) => +i.innerHTML.replace(/[^0-9]/gi, '');


let div1 = document.querySelector('slider item-01');
let div2 = document.querySelector('slider item-02');
let div3 = document.querySelector('slider item-03');

function doExec(block) {
    // block.id = 'workimage';
    var image = document.createElement('img');
    image.src = 'url("./yoga-img/1.jpg")';
    console.log(image);
    block.appendChild(image);
    //var obj = document.getElementById('img_container');
    //obj.appendChild(block);
}


//получить следующее изображее
//get next img
function getImg(x) {
    return yogaData[x].image;
}

function moveSlidesNext() {
    let items = [...slides];
    let last = getCurrentCardNumber([...slides].pop());
    items.forEach(i => {
        last < lenghtVisibleItem ? i.innerHTML = getCurrentCardNumber(i) + 1 : i;
        if (last < lenghtVisibleItem) {
            i.style.backgroundImage = getImg(getCurrentCardNumber(i))
        }
        // if (i.classList.contains('mirror')) {
        //     changeCardContent();
        // }
    });
}

function moveSlidesPrev() {
    let items = [...slides];
    let first = getCurrentCardNumber([...slides][0]);
    items.forEach(i => {
        +first > 1 ? i.innerHTML = getCurrentCardNumber(i) - 1 : i;
        if (+first > 1) {
            i.style.backgroundImage = getImg(getCurrentCardNumber(i))
        }

        if (i.classList.contains('mirror')) {
            changeCardContent();
        }
    });
}

var nextButton = document.querySelector('.btn-next');
nextButton.onclick = function () {
    moveSlidesNext();
};

var prevButton = document.querySelector('.btn-prev');
prevButton.onclick = function () {
    moveSlidesPrev();
};


var playButton = document.querySelector('.btn-play');
var stopButton = document.querySelector('.btn-stop');
var setTimeButton = document.querySelector('.bnt-set-time');
let timer;
let time = 1000;

playButton.onclick = function () {
    clearInterval(timer);
    time = (+document.querySelector('.minutes').value * 60000) + (+document.querySelector('.seconds').value * 1000);
    timer = setInterval(function () {
        moveSlidesNext();
        if (getCurrentCardNumber([...slides].pop()) == lenghtVisibleItem) {
            stopPlaying();
        }
    }, time);
    console.log(time)
};


function stopPlaying() {
    time = (+document.querySelector('.minutes').value * 60000) + (+document.querySelector('.seconds').value * 1000);
    clearInterval(timer);
};

stopButton.onclick = stopPlaying;


var startButton = document.querySelector('.btn-start');
var endButton = document.querySelector('.btn-end');

startButton.onclick = function () {
    let items = [...slides];
    items.forEach((i, index) => {
        i.innerHTML = index + 1;
        i.style.backgroundImage = getImg(getCurrentCardNumber(i));
    });
};

endButton.onclick = function () {
    let items = [...slides].reverse();
    let last = lenghtVisibleItem;
    console.log(last);
    items.forEach(i => {
        i.innerHTML = last;
        last--;
        i.style.backgroundImage = getImg(getCurrentCardNumber(i));
    });
};

//повернуть карточку и изменить текст
//получить карту, по которой кликнули
let card = '';


let btnsDescription = document.querySelectorAll('.card-description');

for (let i = 0; i < btnsDescription.length; i++) {
    const cardDescription = btnsDescription[i];
    cardDescription.addEventListener('click', function () {
        card = document.querySelector('.slider .item-0' + (i + 1));
        //this.textContent = this.textContent === 'посмотреть изображение' ? 'посмотреть описание' : 'посмотреть изображение';

        if (this.textContent.includes('посмотреть описание')) {
            backVisible(card);
            console.log(this.textContent);
            let text = this.textContent;
            text = text.replace('описание', 'изображение');
            this.textContent = text;
            //this.textContent = 'посмотреть изображение';

        } else if (this.textContent.includes('посмотреть изображение')) {
            let text = this.textContent;
            text = text.replace('изображение', 'описание');
            this.textContent = text;
            frontVisible(card);
        }
    });
}


//создание карточки
//made cade yoga descriptin

let yogaTitle = document.createElement("p");
let rusTitle = document.createElement("p");
let yogaDescription = document.createElement("p");


function frontVisible(front) {
    let numberItem = front.innerHTML.match(/[0-9]{0,}/).join('');
    console.log(numberItem);
    yogaTitle.remove();
    rusTitle.remove();
    yogaDescription.remove();
    front.style.color = 'red';
    front.style.backgroundImage = 'url("./yoga-img/' + numberItem + '.jpg")';//"./yoga-img/"+ numberItem +".jpg";//getImg(+front.innerHTML.replace(/[^0-9]/gi, ''));
    front.classList.remove('mirror');
};


function backVisible(back) {
    let numberItem = back.innerHTML.replace(/[^0-9]/i, '');
    back.style.backgroundImage = 'none';
    back.classList.add('mirror');
    back.style.color = '#36b433';
    back.appendChild(yogaTitle);
    back.appendChild(rusTitle);
    back.appendChild(yogaDescription);
    yogaTitle.textContent = yogaData[numberItem].yogaName;
    rusTitle.textContent = yogaData[numberItem].rusianName;
    yogaDescription.textContent = yogaData[numberItem].description;
};




